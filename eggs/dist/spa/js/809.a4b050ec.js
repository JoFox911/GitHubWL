"use strict";(self["webpackChunkeaster_egg"]=self["webpackChunkeaster_egg"]||[]).push([[809],{1809:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});var r=t(9835),a=t(6970);const i={class:"game-container justify-between non-selectable"},n={class:"eggs-container"},l={class:"eggs-container-inner justify-evenly items-center"},g={key:0,class:"boom items-center animated fadeOut"},o=(0,r._)("img",{src:"images/boom.png"},null,-1),c=[o],u={class:"page-footer justify-evenly items-center"};function m(e,s,t,o,m,d){const h=(0,r.up)("color-list"),T=(0,r.up)("egg-label"),E=(0,r.up)("q-btn"),f=(0,r.up)("q-footer"),D=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(D,{class:"flex flex-center"},{default:(0,r.w5)((()=>[(0,r._)("div",i,[(0,r.Wm)(h,{colorsData:e.eggsData,class:"first-side-bar",onOnClick:s[0]||(s[0]=s=>e.clickOnLabelFT(s))},null,8,["colorsData"]),(0,r._)("div",n,[(0,r._)("div",l,[(0,r.Wm)(T,{colorUrl:e.eggsData[e.firstTeamEggIndex].color,class:(0,a.C_)({"right-animation":null===e.result}),isWinner:e.result&&(e.result===e.gameResults.FIRST_TEAM||e.result===e.gameResults.BOTH_WINNERS),isLoser:e.result&&(e.result===e.gameResults.SECOND_TEAM||e.result===e.gameResults.BOTH_LOSERS)},null,8,["colorUrl","class","isWinner","isLoser"]),(0,r.Wm)(T,{colorUrl:e.eggsData[e.secondTeamEggIndex].color,class:(0,a.C_)({"left-animation":null===e.result}),isWinner:e.result&&(e.result===e.gameResults.SECOND_TEAM||e.result===e.gameResults.BOTH_WINNERS),isLoser:e.result&&(e.result===e.gameResults.FIRST_TEAM||e.result===e.gameResults.BOTH_LOSERS)},null,8,["colorUrl","class","isWinner","isLoser"])])]),(0,r.Wm)(h,{colorsData:e.eggsData,class:"second-side-bar",onOnClick:s[1]||(s[1]=s=>e.clickOnLabelST(s))},null,8,["colorsData"]),e.isDelayBeforeResults?((0,r.wg)(),(0,r.iD)("div",g,c)):(0,r.kq)("",!0)]),(0,r.Wm)(f,{reveal:"",elevated:""},{default:(0,r.w5)((()=>[(0,r._)("div",u,[(0,r.Wm)(E,{class:"start-btn",rounded:"",color:"warning",label:e.isSomeOneSelectRusianEgg?e.$t("beatMuscovite"):e.$t("start"),"text-color":"primary",size:"xl",onClick:e.startGame},null,8,["label","onClick"])])])),_:1})])),_:1})}const d={BOTH_LOSERS:"bothLosers",FIRST_TEAM:"firstTeam",SECOND_TEAM:"secondTeam",BOTH_WINNERS:"bothWinners"};var h=t(8363);const T={class:"game-side-bar"},E={class:"colors-container-inner items-center"};function f(e,s,t,a,i,n){const l=(0,r.up)("color-label");return(0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("div",E,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.colorsData,((s,t)=>((0,r.wg)(),(0,r.j4)(l,{key:s.key,colorUrl:s.color,onOnClick:s=>e.clickOnLabel(t)},null,8,["colorUrl","onOnClick"])))),128))])])}t(9073);const D=["src"];function I(e,s,t,a,i,n){return(0,r.wg)(),(0,r.iD)("img",{class:"circle cursor-pointer",src:e.colorUrl,onClick:s[0]||(s[0]=(...s)=>e.clickOnLabel&&e.clickOnLabel(...s))},null,8,D)}const p=(0,r.aZ)({name:"ColorLabel",props:{colorUrl:{type:String,required:!0}},emits:["onClick"],methods:{clickOnLabel(){this.$emit("onClick")}}});var k=t(1639);const y=(0,k.Z)(p,[["render",I]]),_=y,O=(0,r.aZ)({name:"ColorList",components:{ColorLabel:_},props:{colorsData:{type:Array,required:!0}},emits:["onClick"],methods:{clickOnLabel(e){this.$emit("onClick",e)}}}),S=(0,k.Z)(O,[["render",f]]),b=S,R=["src"],x=["src"];function C(e,s,t,i,n,l){return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["egg-inner",{"loser-animation":e.isLoser}])},[(0,r._)("img",{class:(0,a.C_)(["egg",{"winner-animation":e.isWinner}]),src:e.colorUrl},null,10,R),e.isLoser?((0,r.wg)(),(0,r.iD)("img",{key:0,class:"cross-image",src:e.crossUrl},null,8,x)):(0,r.kq)("",!0)],2)}const L=(0,r.aZ)({name:"EggLabel",data:function(){return{crossUrl:"images/cross.png"}},props:{colorUrl:{type:String,required:!0},isWinner:{type:Boolean},isLoser:{type:Boolean}}}),B=(0,k.Z)(L,[["render",C]]),W=B,v=(0,r.aZ)({name:"IndexPage",components:{ColorList:b,EggLabel:W},data:function(){return{result:null,timerBeforeId:null,timerDisplayId:null,isDelayBeforeResults:!1,firstTeamEggIndex:0,secondTeamEggIndex:0,eggsData:[{key:"Ukrainian",color:"images/ukr.png",straight:1},{key:"Red",color:"images/purple.png",straight:.5},{key:"Green",color:"images/yellow-red.png",straight:.5},{key:"Russian",color:"images/rus.png",straight:0}]}},computed:{gameResults:()=>d,isSomeOneSelectRusianEgg(){return[this.eggsData[this.firstTeamEggIndex].key,this.eggsData[this.secondTeamEggIndex].key].includes("Russian")}},created(){this.firstTeamEggIndex=this.generateEggKey(),this.secondTeamEggIndex=this.generateEggKey()},methods:{generateEggKey(){return Math.floor(Math.random()*this.eggsData.length)},clickOnLabelFT(e){this.reset(),this.firstTeamEggIndex=e},clickOnLabelST(e){this.reset(),this.secondTeamEggIndex=e},reset(){this.result=null},startGame(){this.reset(),clearTimeout(this.timerBeforeId),clearTimeout(this.timerDisplayId),this.timerBeforeId=setTimeout((()=>{this.isDelayBeforeResults=!0,h.Z.playEggCrackingSound(),this.timerDisplayId=setTimeout((()=>{this.result=this.selectWinner(),this.isDelayBeforeResults=!1}),1200)}),500)},selectWinner(){if(0===this.eggsData[this.firstTeamEggIndex].straight||0===this.eggsData[this.secondTeamEggIndex].straight)return this.eggsData[this.firstTeamEggIndex].straight===this.eggsData[this.secondTeamEggIndex].straight?d.BOTH_LOSERS:0===this.eggsData[this.firstTeamEggIndex].straight?d.SECOND_TEAM:d.FIRST_TEAM;if(1===this.eggsData[this.firstTeamEggIndex].straight||1===this.eggsData[this.secondTeamEggIndex].straight)return this.eggsData[this.firstTeamEggIndex].straight===this.eggsData[this.secondTeamEggIndex].straight?d.BOTH_WINNERS:1===this.eggsData[this.firstTeamEggIndex].straight?d.FIRST_TEAM:d.SECOND_TEAM;const e=this.eggsData[this.firstTeamEggIndex].straight+this.eggsData[this.secondTeamEggIndex].straight,s=this.eggsData[this.firstTeamEggIndex].straight/e,t=Math.random();return s<=t?d.FIRST_TEAM:d.SECOND_TEAM}},beforeUnmount(){clearTimeout(this.timerBeforeId),clearTimeout(this.timerDisplayId)}});var w=t(9885),M=t(1378),N=t(7279),U=t(9984),A=t.n(U);const Z=(0,k.Z)(v,[["render",m]]),F=Z;A()(v,"components",{QPage:w.Z,QFooter:M.Z,QBtn:N.Z})}}]);